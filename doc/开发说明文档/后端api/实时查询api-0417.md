[TOC]

# 修改记录

1. 2019-04-17

   查询所有路线的车辆位置api请求方式增加：POST

# 实时查询API(v1.0)

## 1. 查询所有路线的车辆位置(速度和方向角测试数据不可靠)

【例】${url}/bus/track

### 1.1 接口
GET/POST bus/track

### 1.2 请求参数

|参数名|类型|必需|默认值|备注|
|:--:|:--:|:--:|:--:|:--:|
|   无   |  无  |  无  |   无   | 无参数 |

### 1.3 Json响应

```json
{
    code: 1,				//0-失败；1-成功
    success: true,			//true-成功；false-失败
    message: "操作成功！",	//提示信息
    data: [					//返回的数据
        {
            trackRoute: [	//位置信息
                {
                    latitude: 30.641821,	//维度
                    velocity: 65.25,		//速度，测试时数据忽略，乱造的
                    longitude: 104.038748,	//经度
                    direction: 60.4			//方向角，测试时数据忽略，乱造的
                },
                {
                    latitude: 30.642,
                    velocity: 66.44,
                    longitude: 104.041,
                    direction: 90.5
                },
                {
                    latitude: 30.648128,
                    velocity: 79.23,
                    longitude: 104.047789,
                    direction: 60.59
                }
			],
			routeName: "下沙二号线"			//路线名
		},
		{
            trackRoute: [
                {
                    latitude: 31.642,
                    velocity: 12.04,
                    longitude: 105.041,
                    direction: 156.21
                },
                {
                    latitude: 31.644,
                    velocity: 45.04,
                    longitude: 105.045,
                    direction: 123.12
                },
                {
                    latitude: 31.647,
                    velocity: 35.12,
                    longitude: 105.047,
                    direction: 76.04
                }
			],
			routeName: "余杭一号线"
		},
		{
            trackRoute: [ ],	//如果该路线的车辆还未出发，则trackRoute内无数据
            routeName: "余杭三号线"
		}
    ]
}

```

## 2. 查询各路线站点信息

【例】${url}/bus/route/station

### 1.1 接口

GET/POST bus/route/station

### 1.2 请求参数

| 参数名 | 类型 | 必需 | 默认值 |  备注  |
| :----: | :--: | :--: | :----: | :----: |
|   无   |  无  |  无  |   无   | 无参数 |

### 1.3 Json响应

```json
{
    code: 1,				//0-失败；1-成功
    success: true,			//true-成功；false-失败
    message: "操作成功！",	//提示信息
    data: [					//返回的数据
        {
            stationInfo: [ ],	//站点信息，[]表示无站点信息
            routeName: "下沙一号线"	//站点名
        },
        {
            stationInfo: [	//站点信息
                {
                    prevStation: "无",	//上一站名
                    departTime: "7:00",	//最晚发出时间
                    longtidue: 104.038748,	//经度
                    latitude: 30.641821,	//维度
                    stationName: "文一校区",	//站点名
                    nextStation: "清雅苑"	//下一站名
                },
                {
                    prevStation: "文一校区",
                    departTime: "10:20",
                    longtidue: 104.067264,
                    latitude: 30.664438,
                    stationName: "清雅苑",
                    nextStation: "大学城北"
                },
                {
                    prevStation: "清雅苑",
                    departTime: "10:30",
                    longtidue: 104.064008,
                    latitude: 30.665316,
                    stationName: "大学城北",
                    nextStation: "无"
                }
            ],
            routeName: "下沙二号线"
        },
        {
            stationInfo: [
                {
                    prevStation: "无",
                    departTime: "7:00",
                    longtidue: 105.038748,
                    latitude: 31.641821,
                    stationName: "金沙学府",
                    nextStation: "金隅观澜时代"
                },
                {
                    prevStation: "金沙学府",
                    departTime: "9:00",
                    longtidue: 105.067264,
                    latitude: 31.660307,
                    stationName: "金隅观澜时代",
                    nextStation: "下沙理工北门"
                },
                {
                    prevStation: "金隅观澜时代",
                    departTime: "10:00",
                    longtidue: 105.067264,
                    latitude: 31.664438,
                    stationName: "下沙理工北门",
                    nextStation: "无"
                }
            ],
            routeName: "余杭一号线"
        },
        {
            stationInfo: [ ],
            routeName: "余杭二号线"
        }
    ]
}
```

